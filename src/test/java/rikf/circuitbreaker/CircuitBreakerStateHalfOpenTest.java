package rikf.circuitbreaker;

import org.junit.Test;

import static org.mockito.Mockito.mock;
import static org.mockito.Mockito.verify;

public class CircuitBreakerStateHalfOpenTest {


    private CircuitBreakerStateHalfOpen underTest = new CircuitBreakerStateHalfOpen();

    @Test
    public void testPostExecute() throws Exception {

        final CircuitBreaker mockCircuitBreaker = mock(CircuitBreaker.class);

        underTest.postExecute(mockCircuitBreaker);

        verify(mockCircuitBreaker).close();

    }


    @Test
    public void testOnExecutionError() throws Exception {

        final CircuitBreaker mockCircuitBreaker = mock(CircuitBreaker.class);

        underTest.onExecutionError(mockCircuitBreaker);

        verify(mockCircuitBreaker).open();


    }
}
